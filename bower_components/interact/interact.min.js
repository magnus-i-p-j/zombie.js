/* interact.js v1.0.27 | https://raw.github.com/taye/interact.js/master/LICENSE */
!function(){"use strict";function e(){}function t(e){return!!e&&"object"==typeof e&&(/object|function/.test(typeof Element)?e instanceof Element:1===e.nodeType&&"string"==typeof e.nodeName)}function n(e){return e instanceof Object}function i(e){return e instanceof Array}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"boolean"==typeof e}function a(e){return"string"==typeof e}function l(e,t){for(var n in t)e[n]=t[n];return e}function c(e){var t,n=l({},e);if(n.constructor=e.constructor,e.touches){for(n.touches=[],n.changedTouches=[],t=0;t<e.touches.length;t++)n.touches.push(l({},e.touches[t]));for(t=0;t<e.touches.length;t++)n.changedTouches.push(l({},e.changedTouches[t]))}return n}function d(e,t){h(t,Gt),e.pageX=Gt.x,e.pageY=Gt.y,g(t,Gt),e.clientX=Gt.x,e.clientY=Gt.y,e.timeStamp=(new Date).getTime()}function p(e,t,n){e.pageX=n.pageX-t.pageX,e.pageY=n.pageY-t.pageY,e.clientX=n.clientX-t.clientX,e.clientY=n.clientY-t.clientY,e.timeStamp=(new Date).getTime()-t.timeStamp;var i=Math.max(e.timeStamp/1e3,.001);e.pageSpeed=kt(e.pageX,e.pageY)/i,e.pageVX=e.pageX/i,e.pageVY=e.pageY/i,e.clientSpeed=kt(e.clientX,e.pageY)/i,e.clientVX=e.clientX/i,e.clientVY=e.clientY/i}function u(e,t,n){var i,r,o;return n=n||{},e=e||"page",/touch/.test(t.type)&&t.touches?(i=t.touches.length?t.touches[0]:t.changedTouches[0],r=i[e+"X"],o=i[e+"Y"]):(r=t[e+"X"],o=t[e+"Y"]),n.x=r,n.y=o,n}function h(e,t){return t=t||{},e instanceof B?/inertiastart/.test(e.type)?(h(Wt.pointerUp,t),t.x+=Wt.sx,t.y+=Wt.sy):(t.x=e.pageX,t.y=e.pageY):Tn?(u("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):u("page",e,t),t}function g(e,t){return t=t||{},e instanceof B?/inertiastart/.test(e.type)?(g(Wt.pointerUp,t),t.x+=Wt.sx,t.y+=Wt.sy):(t.x=e.clientX,t.y=e.clientY):u(Tn?"screen":"client",e,t),t}function f(){return{x:window.scrollX||Yt.documentElement.scrollLeft,y:window.scrollY||Yt.documentElement.scrollTop}}function m(e){var t=/ipad|iphone|ipod/i.test(navigator.userAgent)?{x:0,y:0}:f(),n=e instanceof Tt?e.getBoundingClientRect():e.getClientRects()[0];return n&&{left:n.left+t.x,right:n.right+t.x,top:n.top+t.y,bottom:n.bottom+t.y,width:n.width||n.right-n.left,height:n.heigh||n.bottom-n.top}}function v(e){var t=[];return i(e)?(t[0]=e[0],t[1]=e[1]):"touchend"===e.type?1===e.touches.length?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):0===e.touches.length&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function y(e){var t=v(e);return{pageX:(t[0].pageX+t[1].pageX)/2,pageY:(t[0].pageY+t[1].pageY)/2,clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function x(e){if(e.touches&&e.touches.length||Ft.length){var t=v(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),r=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,width:r-n,height:o-i}}}function S(e){var t=(tn&&tn.options||an).deltaSource,n=t+"X",i=t+"Y",r=v(e),o=r[0][n]-r[1][n],s=r[0][i]-r[1][i];return kt(o,s)}function b(e,t){var n=(tn&&tn.options||an).deltaSource,i=n+"X",r=n+"Y",s=v(e),a=s[0][i]-s[1][i],l=s[0][r]-s[1][r],c=180*Math.atan(l/a)/Math.PI;if(o(t)){var d=c-t,p=d%360;p>315?c-=360+c/360|0:p>135?c-=180+c/360|0:-315>p?c+=360+c/360|0:-135>p&&(c+=180+c/360|0)}return c}function w(e,n){e=e||tn;var i=e?e.options.origin:an.origin;return n=n||e._element,"parent"===i?i=n.parentNode:"self"===i&&(i=n),t(i)?(i=m(i),i.x=i.left,i.y=i.top):r(i)&&(i=i(e&&n)),i}function E(e){var t=e.target.options.inertia,n=t.resistance,i=-Math.log(t.endSpeed/e.v0)/n;e.x0=Vt.pageX,e.y0=Vt.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-i)/n,e.modifiedYe=e.ye=(e.vy0-i)/n,e.te=i,e.lambda_v0=n/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0}function z(){var e=Wt.target.options.inertia,t=e.resistance,n=(new Date).getTime()/1e3-Wt.t0;if(n<Wt.te){var i=1-(Math.exp(-t*n)-Wt.lambda_v0)/Wt.one_ve_v0;if(Wt.modifiedXe===Wt.xe&&Wt.modifiedYe===Wt.ye)Wt.sx=Wt.xe*i,Wt.sy=Wt.ye*i;else{var r=D(0,0,Wt.xe,Wt.ye,Wt.modifiedXe,Wt.modifiedYe,i);Wt.sx=r.x,Wt.sy=r.y}Z(Wt.startEvent),Wt.i=Mn(z)}else Wt.sx=Wt.modifiedXe,Wt.sy=Wt.modifiedYe,Z(Wt.startEvent),Wt.active=!1,gt(Wt.startEvent)}function X(){var e=(new Date).getTime()-Wt.t0,t=Wt.target.options.inertia.smoothEndDuration;t>e?(Wt.sx=T(e,0,Wt.xe,t),Wt.sy=T(e,0,Wt.ye,t),Z(Wt.startEvent),Wt.i=Mn(X)):(Wt.active=!1,Wt.smoothEnd=!1,Z(Wt.startEvent),gt(Wt.startEvent))}function Y(e,t,n,i){var r=1-e;return r*r*t+2*r*e*n+e*e*i}function D(e,t,n,i,r,o,s){return{x:Y(s,e,n,r),y:Y(s,t,i,o)}}function T(e,t,n,i){return e/=i,-n*e*(e-2)+t}function _(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1}function M(e,t){return e._context===Yt||_(e._context,t)}function O(e,n){var i=e.options.ignoreFrom;return i&&t(n)&&n!==e._element.parentNode?a(i)?Et(n,i)||O(e,n.parentNode):t(i)?n===i||_(i,n):!1:!1}function A(e,n){var i=e.options.allowFrom;return i?t(n)&&n!==e._element.parentNode?a(i)?Et(n,i)||A(e,n.parentNode):t(i)?n===i||_(i,n):!1:!1:!0}function k(e,t){if(t){var n=t.options,i=n.preventDefault;if("auto"===i&&!/^input$|^textarea$/i.test(tn._element.nodeName)){if(/down|start/i.test(e.type)&&"drag"===wn&&"xy"!==n.dragAxis)return;return void e.preventDefault()}return i===!0?void e.preventDefault():void 0}}function C(e,t){if(!t)return!1;var n=t.options.dragAxis;return"xy"===e||"xy"===n||n===e}function R(e,t){var n=e.options;return t=t||wn,/^resize/.test(t)&&(t="resize"),n.snapEnabled&&wt(n.snap.actions,t)}function $(e,t){var n=e.options;return t=t||wn,/^resize/.test(t)&&(t="resize"),n.restrictEnabled&&n.restrict[t]}function P(e){var n,i=[],r=[];for(e=e||tn._element,n=0;n<Jt.length;n++)if(Jt[n].options.dropzone){var o=Jt[n];if(!(t(o.options.accept)&&o.options.accept!==e||a(o.options.accept)&&!Et(e,o.options.accept)))for(var s=o.selector?o._context.querySelectorAll(o.selector):[o._element],l=0,c=s.length;c>l;l++){var d=s[l];d!==e&&(i.push(o),r.push(d))}}return{dropzones:i,elements:r}}function N(e){var t,n,i,r;for(t=0;t<Qt.dropzones.length;t++)n=Qt.dropzones[t],i=Qt.elements[t],i!==r&&(e.target=i,n.fire(e)),r=i}function F(e){var t,n,i,r,o,s=e[0],a=s?0:-1,l=[],c=[];for(r=1;r<e.length;r++)if(t=e[r],t&&t!==s)if(s){if(t.parentNode!==Yt)if(s.parentNode!==Yt){if(!l.length)for(n=s;n.parentNode&&n.parentNode!==Yt;)l.unshift(n),n=n.parentNode;if(s instanceof Ot&&t instanceof Tt&&!(t instanceof _t)){if(t===s.parentNode)continue;n=t.ownerSVGElement}else n=t;for(c=[];n.parentNode!==Yt;)c.unshift(n),n=n.parentNode;for(o=0;c[o]&&c[o]===l[o];)o++;var d=[c[o-1],c[o],l[o]];for(i=d[0].lastChild;i;){if(i===d[1]){s=t,a=r,l=[];break}if(i===d[2])break;i=i.previousSibling}}else s=t,a=r}else s=t,a=r;return a}function q(e){var t=P(e,!0);Qt.dropzones=t.dropzones,Qt.elements=t.elements,Qt.rects=[];for(var n=0;n<Qt.dropzones.length;n++)Qt.rects[n]=Qt.dropzones[n].getRect(Qt.elements[n])}function I(e,t){var n=[];vn&&q(t);for(var i=0;i<Qt.dropzones.length;i++){var r=Qt.dropzones[i],o=Qt.elements[i],s=Qt.rects[i];n.push(r.dropCheck(e,tn,t,s)?o:null)}var a=F(n),l=Qt.dropzones[a]||null,c=Qt.elements[a]||null;return l&&l.selector&&(l._element=c),{dropzone:l,element:c}}function V(e,t){var n=null,i=null,r=null,o=null,s=null,a=null;return rn!==sn&&(on&&(n=new B(e,"drag","leave",sn,t.target),n.draggable=t.interactable,t.dragLeave=sn,t.prevDropzone=on),nn&&(i=new B(e,"drag","enter",rn,t.target),i.draggable=t.interactable,t.dragEnter=rn,t.dropzone=nn)),"dragend"===t.type&&nn&&(a=new B(e,"drop",null,rn,t.target),a.draggable=t.interactable,t.dropzone=nn),"dragstart"===t.type&&(r=new B(e,"drop","activate",null,t.target),r.draggable=t.interactable),"dragend"===t.type&&(o=new B(e,"drop","deactivate",null,t.target),o.draggable=t.interactable),"dragmove"===t.type&&nn&&(s={target:rn,relatedTarget:t.target,draggable:t.interactable,dragmove:t,type:"dropmove",timeStamp:t.timeStamp},t.dropzone=nn),{enter:i,leave:n,activate:r,deactivate:o,move:s,drop:a}}function B(e,t,n,i,r){var o,s,a=(tn&&tn.options||an).deltaSource,l=a+"X",c=a+"Y",d=tn?tn.options:an,p=w(tn,i),u="start"===n,f="end"===n;if(i=i||tn._element,"gesture"===t){var m=y(Ft);s={x:m.pageX-p.x,y:m.pageY-p.y},o={x:m.clientX-p.x,y:m.clientY-p.y}}else s=h(e),o=g(e),s.x-=p.x,s.y-=p.y,o.x-=p.x,o.y-=p.y,!R(tn)||u&&d.snap.elementOrigin||(this.snap={range:ln.range,locked:ln.locked,x:ln.snappedX,y:ln.snappedY,realX:ln.realX,realY:ln.realY,dx:ln.dx,dy:ln.dy},ln.locked&&(s.x+=ln.dx,s.y+=ln.dy,o.x+=ln.dx,o.y+=ln.dy));if(!$(tn)||u&&d.restrict.elementRect||!cn.restricted||(s.x+=cn.dx,s.y+=cn.dy,o.x+=cn.dx,o.y+=cn.dy,this.restrict={dx:cn.dx,dy:cn.dy}),this.pageX=s.x,this.pageY=s.y,this.clientX=o.x,this.clientY=o.y,this.x0=$t.pageX,this.y0=$t.pageY,this.clientX0=$t.clientX,this.clientY0=$t.clientY,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.target=i,this.t0=qt,this.type=t+(n||""),this.interactable=tn,Wt.active&&(this.detail="inertia"),r&&(this.relatedTarget=r),f||"drop"===t?"client"===a?(this.dx=o.x-$t.clientX,this.dy=o.y-$t.clientY):(this.dx=s.x-$t.pageX,this.dy=s.y-$t.pageY):"inertiastart"===n?(this.dx=Vt.dx,this.dy=Vt.dy):"client"===a?(this.dx=o.x-Vt.clientX,this.dy=o.y-Vt.clientY):(this.dx=s.x-Vt.pageX,this.dy=s.y-Vt.pageY),Vt&&"inertia"===Vt.detail&&!Wt.active&&d.inertia.zeroResumeDelta&&(Wt.resumeDx+=this.dx,Wt.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===t?d.squareResize||e.shiftKey?("y"===xn?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=xn,"x"===xn?this.dy=0:"y"===xn&&(this.dx=0)):"gesture"===t&&(this.touches=[Ft[0],Ft[1]],u?(this.distance=S(Ft),this.box=x(Ft),this.scale=1,this.ds=0,this.angle=b(Ft),this.da=0):f||e instanceof B?(this.distance=Vt.distance,this.box=Vt.box,this.scale=Vt.scale,this.ds=this.scale-1,this.angle=Vt.angle,this.da=this.angle-Ht.startAngle):(this.distance=S(Ft),this.box=x(Ft),this.scale=this.distance/Ht.startDistance,this.angle=b(Ft,Ht.prevAngle),this.ds=this.scale-Ht.prevScale,this.da=this.angle-Ht.prevAngle)),u)this.timeStamp=qt,this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===n)this.timeStamp=(new Date).getTime(),this.dt=Vt.dt,this.duration=Vt.duration,this.speed=Vt.speed,this.velocityX=Vt.velocityX,this.velocityY=Vt.velocityY;else{this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-Vt.timeStamp,this.duration=this.timeStamp-qt;var v,E,z;e instanceof B?(z=Math.max((f?this.duration:this.dt)/1e3,.001),v=this[l]-Vt[l],E=this[c]-Vt[c],this.snap&&this.snap.locked&&(v-=this.snap.dx,E-=this.snap.dy),this.restrict&&(v-=this.restrict.dx,E-=this.restrict.dy),Vt.snap&&Vt.snap.locked&&(v-=Vt[l]-Vt.snap.dx,E-=Vt[c]-Vt.snap.dy),Vt.restrict&&(v+=Vt.restrict.dx,E+=Vt.restrict.dy),this.speed=kt(v,E)/z,this.velocityX=v/z,this.velocityY=E/z):(this.speed=Pt[a+"Speed"],this.velocityX=Pt[a+"VX"],this.velocityY=Pt[a+"VY"])}if((f||"inertiastart"===n)&&Vt.speed>600&&this.timeStamp-Vt.timeStamp<150){var X=180*Math.atan2(Vt.velocityY,Vt.velocityX)/Math.PI,Y=22.5;0>X&&(X+=360);var D=X>=135-Y&&225+Y>X,T=X>=225-Y&&315+Y>X,_=!D&&(X>=315-Y||45+Y>X),M=!T&&X>=45-Y&&135+Y>X;this.swipe={up:T,down:M,left:D,right:_,angle:X,speed:Vt.speed,velocity:{x:Vt.velocityX,y:Vt.velocityY}}}}function L(){this.originalEvent.preventDefault()}function U(e,t,n){var i,r={};l(r,e),r.preventDefault=L,r.stopPropagation=B.prototype.stopPropagation,r.stopImmediatePropagation=B.prototype.stopImmediatePropagation,r.timeStamp=(new Date).getTime(),r.originalEvent=e,r.dt=r.timeStamp-qt,r.type="tap";var o=r.timeStamp-Bt,s=Lt&&"doubletap"!==Lt.type&&Lt.target===r.target&&500>o;for(Bt=r.timeStamp,i=0;i<t.length;i++){var a=w(t[i],n[i]);if(r.pageX-=a.x,r.pageY-=a.y,r.clientX-=a.x,r.clientY-=a.y,r.currentTarget=n[i],t[i].fire(r),r.immediatePropagationStopped||r.propagationStopped&&t[i+1]!==r.currentTarget)break}if(s){var c={};for(l(c,r),c.dt=o,c.type="doubletap",i=0;i<t.length&&(c.currentTarget=n[i],t[i].fire(c),!(c.immediatePropagationStopped||c.propagationStopped&&t[i+1]!==c.currentTarget));i++);Lt=c}else Lt=r}function K(e){function t(e,t,s){var a=Xt?s.querySelectorAll(t):void 0;o!==Yt&&M(e,o)&&!O(e,r)&&A(e,r)&&Et(o,t,a)&&(n.push(e),i.push(o))}if(!It||!gn&&e instanceof It.constructor&&It.target===e.target){for(var n=[],i=[],r=e.target instanceof Mt?e.target.correspondingUseElement:e.target,o=r;o;)yt.isSet(o)&&(n.push(yt(o)),i.push(o)),Jt.forEachSelector(t),o=o.parentNode;n.length&&U(e,n,i)}}function j(e,t){var n,i,r=this.getRect(t),o=null,s=h(e),a=this.options;return r?(bn.resize&&a.resizable&&(n="y"!==a.resizeAxis&&s.x>r.right-un,i="x"!==a.resizeAxis&&s.y>r.bottom-un),xn=(n?"x":"")+(i?"y":""),o=xn?"resize"+xn:bn.drag&&a.draggable?"drag":null,bn.gesture&&Nt.length>=2&&!mn&&!yn&&(o="gesture"),o):null}function G(e,t){if(!a(e))return null;t=t||tn;var n=-1!==e.search("resize")?"resize":e,i=(t||tn).options;return("resize"===n&&i.resizable||"drag"===e&&i.draggable||"gesture"===e&&i.gesturable)&&bn[n]?(("resize"===e||"resizeyx"===e)&&(e="resizexy"),e):null}function W(e){function t(e,t,n){var o=Xt?n.querySelectorAll(t):void 0;M(e,r)&&!O(e,i)&&A(e,i)&&Et(r,t,o)&&(e._element=r,Zt.push(e))}if(wn&&It&&e.type!==It.type)return void k(e,tn);if(!(It&&"mousedown"===e.type&&"touchstart"===It.type&&e.timeStamp-It.timeStamp<300)){hn=!0;var n,i=e.target instanceof Mt?e.target.correspondingUseElement:e.target,r=i;if(et(e),Wt.active&&tn.selector)for(;r&&r!==Yt;){if(r===Wt.targetElement&&G(tn.getAction(e,r))===wn)return On(Wt.i),void(Wt.active=!1);r=r.parentNode}if(!(mn||yn||fn)){if(Zt.length&&/mousedown|pointerdown/i.test(e.type))n=dt(e,Zt);else for(;r&&r!==Yt&&!n;)Zt=[],Jt.forEachSelector(t),n=dt(e,Zt),r=r.parentNode;return n?(wn=n,H(e,n)):(qt=(new Date).getTime(),It=c(e),d(Ct,e),gn=!1,void 0)}}}function H(e,t){if(!t&&hn&&It&&e.type!==It.type)return void k(e,tn);if(hn=!0,et(e),(e.touches&&e.touches.length<2||Nt&&Nt.length<2)&&!tn||!wn){var n=Jt.get(e.currentTarget);!O(n,e.target)&&A(n,e.target)&&(tn=n)}var i=tn&&tn.options;if(tn&&!(mn||yn||fn)){var r=G(t||tn.getAction(e,tn._element));if(d($t,e),!r)return e;i.styleCursor&&(Yt.documentElement.style.cursor=Sn[r].cursor),xn="resizexy"===r?"xy":"resizex"===r?"x":"resizey"===r?"y":"","gesture"===r&&Nt.length<2&&(r=null),wn=r,ln.snappedX=ln.snappedY=cn.restrictedX=cn.restrictedY=0/0,qt=(new Date).getTime(),It=c(e),d(Ct,e),gn=!1,k(e,tn)}else Wt.active&&e.currentTarget===Wt.targetElement&&tn===Wt.target&&G(tn.getAction(e,tn._element))===wn&&(On(Wt.i),Wt.active=!1)}function J(e,t){var n,i,s,a,l,c,d,p,u,g,f=tn.options.snap,m=f.anchors;if(t=t||ln,t.useStatusXY)n={x:t.x,y:t.y};else{var v=w(tn);n=h(e),n.x-=v.x,n.y-=v.y}if(n.x-=Wt.resumeDx,n.y-=Wt.resumeDy,t.realX=n.x,t.realY=n.y,f.range<0&&(f.range=1/0),"path"===f.mode)for(m=[],u=0,g=f.paths.length;g>u;u++){var y=f.paths[u];r(y)&&(y=y(n.x,n.y)),m.push({x:o(y.x)?y.x:n.x,y:o(y.y)?y.y:n.y,range:o(y.range)?y.range:f.range})}if("anchor"!==f.mode&&"path"!==f.mode||!m.length){if("grid"===f.mode){var x=Math.round((n.x-f.gridOffset.x-jt.x)/f.grid.x),S=Math.round((n.y-f.gridOffset.y-jt.y)/f.grid.y),b=x*f.grid.x+f.gridOffset.x+jt.x,E=S*f.grid.y+f.gridOffset.y+jt.y;c=b-n.x,d=E-n.y,p=kt(c,d),a=p<f.range,l=b!==t.snappedX||E!==t.snappedY,t.snappedX=b,t.snappedY=E,t.dx=c,t.dy=d,t.range=f.range}}else{for(i={anchor:null,distance:0,range:0,dx:0,dy:0},u=0,g=m.length;g>u;u++){var z=m[u];s=o(z.range)?z.range:f.range,c=z.x-n.x+jt.x,d=z.y-n.y+jt.y,p=kt(c,d),a=s>p,1/0===s&&i.inRange&&1/0!==i.range&&(a=!1),(!i.anchor||(a?i.inRange&&1/0!==s?p/s<i.distance/i.range:p<i.distance:!i.inRange&&p<i.distance))&&(1/0===s&&(a=!0),i.anchor=z,i.distance=p,i.range=s,i.inRange=a,i.dx=c,i.dy=d,t.range=s)}a=i.inRange,l=i.anchor.x!==t.x||i.anchor.y!==t.y,t.snappedX=i.anchor.x,t.snappedY=i.anchor.y,t.dx=i.dx,t.dy=i.dy}return t.changed=l||a&&!t.locked,t.locked=a,t}function Q(e,n){var i,o=/resize/.test(wn)?"resize":wn,s=tn&&tn.options.restrict,a=s&&s[o];if(!a)return n;n=n||cn,i=i=n.useStatusXY?{x:n.x,y:n.y}:h(e),n.snap&&n.snap.locked&&(i.x+=n.snap.dx||0,i.y+=n.snap.dy||0),i.x-=Wt.resumeDx,i.y-=Wt.resumeDy,n.dx=0,n.dy=0,n.restricted=!1;var l;"parent"===a?a=tn._element.parentNode:"self"===a&&(a=tn._element),t(a)?l=m(a):(r(a)&&(a=a(i.x,i.y,tn._element)),l=a,"x"in a&&"y"in a&&(l={left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height}));var c=Math.max(Math.min(l.right-Kt.right,i.x),l.left+Kt.left),d=Math.max(Math.min(l.bottom-Kt.bottom,i.y),l.top+Kt.top);return n.dx=c-i.x,n.dy=d-i.y,n.changed=n.restrictedX!==c||n.restrictedY!==d,n.restricted=!(!n.dx&&!n.dy),n.restrictedX=c,n.restrictedY=d,n}function Z(e,t){if(hn){if(!(e instanceof B)){if(d(Rt,e),Rt.pageX===Ct.pageX&&Rt.pageY===Ct.pageY&&Rt.screenX===Ct.screenX&&Rt.screenY===Ct.screenY)return void k(e,tn);p(Pt,Ct,Rt)}var n,i;if(gn||(n=Rt.clientX-$t.clientX,i=Rt.clientY-$t.clientY,gn=kt(n,i)>an.pointerMoveTolerance),wn&&("mousemove"!==e.type||"touchstart"!==It.type)){if(gn&&(!Wt.active||e instanceof B&&/inertiastart/.test(e.type))){if(!(mn||yn||fn)&&(p(Pt,Ct,Rt),"drag"===wn)){var r=Math.abs(n),o=Math.abs(i),s=tn.options.dragAxis,a=r>o?"x":o>r?"y":"xy";if("xy"!==a&&"xy"!==s&&s!==a){wn=null;for(var l=e.target instanceof Mt?e.target.correspondingUseElement:e.target,c=l;c&&c!==Yt;){var u=Jt.get(c);if(u&&u!==tn&&"drag"===u.getAction(It,c)&&C(a,u)){wn="drag",tn=u;break}c=c.parentNode}if(!wn){var h=function(e,t,n){var i=Xt?n.querySelectorAll(t):void 0;if(e!==tn)return e._element=c,M(e,l)&&!O(e,l)&&A(e,l)&&Et(c,t,i)&&"drag"===e.getAction(It,l)&&C(a,e)?e:void 0};for(c=l;c&&c!==Yt;){var g=Jt.forEachSelector(h);if(g){wn="drag",tn=g;break}c=c.parentNode}}}}if(wn&&tn){var f=R(tn)&&(!tn.options.snap.endOnly||t),m=$(tn)&&(!tn.options.restrict.endOnly||t),v=!(mn||yn||fn),y=v?It:e;if(v){Vt=It;var x=tn.getRect(tn._element),S=tn.options.snap,b=tn.options.restrict;x?(Ut.left=$t.pageX-x.left,Ut.top=$t.pageY-x.top,Ut.right=x.right-$t.pageX,Ut.bottom=x.bottom-$t.pageY):Ut.left=Ut.top=Ut.right=Ut.bottom=0,x&&S.elementOrigin?(jt.x=Ut.left-x.width*S.elementOrigin.x,jt.y=Ut.top-x.height*S.elementOrigin.y):jt.x=jt.y=0,x&&b.elementRect?(Kt.left=Ut.left-x.width*b.elementRect.left,Kt.top=Ut.top-x.height*b.elementRect.top,Kt.right=Ut.right-x.width*(1-b.elementRect.right),Kt.bottom=Ut.bottom-x.height*(1-b.elementRect.bottom)):Kt.left=Kt.top=Kt.right=Kt.bottom=0}f?J(y):ln.locked=!1,m?Q(y):cn.restricted=!1;var w=(f?ln.changed||!ln.locked:!0)&&(m?!cn.restricted||cn.restricted&&cn.changed:!0);w&&(v&&(Vt=Sn[wn].start(It),f&&J(e),m&&Q(e)),Vt=Sn[wn].move(e))}}e instanceof B||d(Ct,e),(mn||yn)&&dn.edgeMove(e)}}}function et(e,t){if(t=t||e.type,/touch/.test(e.type))for(var n=/cancel|touchend/.test(t)?e.changedTouches:e.touches,i=0;i<n.length;i++)et(n[i],t);else if(!Nt.length||Ft[0].pointerType===e.pointerType){var r=e.pointerId||e.identifier||0,o=bt(Nt,r);-1===o?(Nt.push(r),Ft[Nt.length-1]=e):Ft[o]=e}}function tt(e){var t=bt(Nt,e.pointerId||e.identifier||0);-1!==t&&Nt.splice(t,1)}function nt(e,t){var n=bt(Nt,e.pointerId||e.identifier||0);-1!==n&&(t=t||e.type,/move/i.test(t)?Ft[n]=e:/up|end|cancel/i.test(t)&&tt(e))}function it(e){for(var t=/cancel|touchend/.test(e.type)?e.changedTouches:e.touches,n=0;n<t.length;n++)nt(t[n],e.type)}function rt(e){var t=new B(e,"drag","start");mn=!0,tn.fire(t),Qt.dropzones=[],Qt.elements=[],Qt.rects=[],vn||q(tn._element);var n=V(e,t);return n.activate&&N(n.activate),t}function ot(e){k(e,tn);var t=new B(e,"drag","move"),n=tn._element,i=I(t,n);nn=i.dropzone,rn=i.element,tn._element=n;var r=V(e,t);return tn.fire(t),r.leave&&on.fire(r.leave),r.enter&&nn.fire(r.enter),r.move&&nn.fire(r.move),on=nn,sn=rn,t}function st(e){var t=new B(e,"resize","start");return tn.fire(t),tn.fire(t),yn=!0,t}function at(e){k(e,tn);var t;return t=new B(e,"resize","move"),tn.fire(t),t}function lt(e){var t=new B(e,"gesture","start");return t.ds=0,Ht.startDistance=Ht.prevDistance=t.distance,Ht.startAngle=Ht.prevAngle=t.angle,Ht.scale=1,fn=!0,tn.fire(t),t}function ct(e){if(!Nt.length)return Vt;k(e,tn);var t;return t=new B(e,"gesture","move"),t.ds=t.scale-Ht.scale,tn.fire(t),Ht.prevAngle=t.angle,Ht.prevDistance=t.distance,1/0===t.scale||null===t.scale||void 0===t.scale||isNaN(t.scale)||(Ht.scale=t.scale),t}function dt(e,t){for(var n=0,i=t.length;i>n;n++){var r=t[n],o=G(r.getAction(e,r._element),r);if(o)return tn=r,o}}function pt(e){function t(e,t){e&&M(e,r)&&!O(e,r)&&A(e,r)&&Et(r,t)&&(e._element=r,n.push(e))}if(!wn){var n=[],i=tn&&tn._element,r=e.target instanceof Mt?e.target.correspondingUseElement:e.target;!tn||!O(tn,r)&&A(tn,r)||(tn=null,Zt=[]);var o=Jt.get(r),s=o&&!O(o,r)&&A(o,r)&&G(o.getAction(e,r),o);if(s)tn=o,Zt=[];else if(Jt.forEachSelector(t),dt(e,n))Zt=n,ht(e,Zt),$n.addToElement(r,"mousemove",ht);else if(tn){var a=i.querySelectorAll("*");if(wt(a,r)){for(var l=0;l<Zt.length;l++)Zt[l]._element=i;ht(e,Zt),$n.addToElement(tn._element,"mousemove",ht)}else tn=null,Zt=[]}}}function ut(e){if(!wn){var t=e.target instanceof Mt?e.target.correspondingUseElement:e.target;Jt.get(t)||$n.removeFromElement(t,ht),tn&&tn.options.styleCursor&&!(mn||yn||fn)&&(Yt.documentElement.style.cursor="")}}function ht(e,t){if(wn)wn&&k(e,tn);else{var n;t?n=dt(e,t):tn&&(n=G(tn.getAction(e,tn._element))),tn&&tn.options.styleCursor&&(Yt.documentElement.style.cursor=n?Sn[n].cursor:"")}}function gt(e){if((e instanceof B||!hn||!It||e instanceof It.constructor)&&!(e.touches&&e.touches.length>=2)){var t,n=tn&&tn.options,i=n&&n.inertia;if(mn||yn||fn){if(Wt.active)return;var r,o,s=(new Date).getTime(),a=!1,c=!1,d=!1,p=R(tn)&&n.snap.endOnly,u=$(tn)&&n.restrict.endOnly,g=0,f=0;if(mn&&"x"===n.dragAxis&&(r=Math.abs(Pt.clientVX)),mn&&"y"===n.dragAxis&&(r=Math.abs(Pt.clientVY)),mn&&"xy"===n.dragAxis&&(r=Pt.clientSpeed),a=n.inertiaEnabled&&"gesture"!==wn&&wt(i.actions,wn)&&e!==Wt.startEvent,c=a&&s-Rt.timeStamp<50&&r>i.minSpeed&&r>i.endSpeed,a&&!c&&(p||u)){var m={};m.snap=m.restrict=m,p&&(J(e,m),m.locked&&(g+=m.dx,f+=m.dy)),u&&(Q(e,m),m.restricted&&(g+=m.dx,f+=m.dy)),(g||f)&&(d=!0)}if(c||d){if($n.useAttachEvent?l(Wt.pointerUp,e):Wt.pointerUp=e,Wt.startEvent=o=new B(e,wn,"inertiastart"),tn.fire(Wt.startEvent),Wt.target=tn,Wt.targetElement=tn._element,Wt.t0=s,c){Wt.vx0=Pt.clientVX,Wt.vy0=Pt.clientVY,Wt.v0=r,E(Wt);var v,y=h(e),x=w(tn,tn._element);if(y.x=y.x+(c?Wt.xe:0)-x.x,y.y=y.y+(c?Wt.ye:0)-x.y,v={useStatusXY:!0,x:y.x,y:y.y,dx:0,dy:0,snap:null},v.snap=v,g=f=0,p){var S=J(e,v);S.locked&&(g+=S.dx,f+=S.dy)}if(u){var b=Q(e,v);b.restricted&&(g+=b.dx,f+=b.dy)}Wt.modifiedXe+=g,Wt.modifiedYe+=f,Wt.i=Mn(z)}else Wt.smoothEnd=!0,Wt.xe=g,Wt.ye=f,Wt.sx=Wt.sy=0,Wt.i=Mn(X);return void(Wt.active=!0)}(p||u)&&Z(e,!0)}if(mn){t=new B(e,"drag","end");var Y,D=tn._element,T=I(t,D);if(nn=T.dropzone,rn=T.element,tn._element=D,nn)Y=new B(e,"drop",null,rn,D),t.dropzone=rn;else if(on){var _=new B(e,"drag","leave",rn,D);on.fire(_,D),t.dragLeave=sn}var M=V(e,t);M.leave&&on.fire(M.leave),M.enter&&nn.fire(M.enter),M.drop&&nn.fire(M.drop),M.deactivate&&N(M.deactivate),tn.fire(t)}else yn?(t=new B(e,"resize","end"),tn.fire(t)):fn&&(t=new B(e,"gesture","end"),tn.fire(t));yt.stop()}}function ft(e,t){var n={},i=en[e.type],r=e.target;t=t?!0:!1;for(var o in e)n[o]=e[o];for(n.originalEvent=e,n.preventDefault=L;r&&r!==Yt;){for(var s=0;s<i.selectors.length;s++){var a=i.selectors[s],l=i.contexts[s];if(Et(r,a)&&l===e.currentTarget&&_(l,r)){var c=i.listeners[s];n.currentTarget=r;for(var d=0;d<c.length;d++)if(c[d][1]===t)if(Dn)try{c[d][0](n)}catch(p){var u=(u=c[d][0].name)?', "'+u+'",':"";Dt.error('Error thrown from delegated "'+e.type+'" listener'+u+' on "'+a+'" element:\n'+p.message),p.stack&&Dt.log(p.stack),Dt.log(p)}else c[d][0](n)}}r=r.parentNode}}function mt(e){return ft.call(this,e,!0)}function vt(){tn&&!tn.selector&&(tn=null),nn=rn=on=sn=null}function yt(e,t){return Jt.get(e,t)||new St(e,t)}function xt(e){for(var t in an)e.hasOwnProperty(t)&&typeof e[t]==typeof an[t]&&(this[t]=e[t])}function St(e,n){this._element=e,this._iEvents=this._iEvents||{},a(e)?(Yt.querySelector(e),this.selector=e,n&&n.context&&(window.Node?n.context instanceof window.Node:t(n.context)||n.context===Yt)&&(this._context=n.context)):t(e)&&(At?($n.add(this,zt.down,H),$n.add(this,zt.move,ht)):($n.add(this,"mousedown",H),$n.add(this,"mousemove",ht),$n.add(this,"touchstart",H),$n.add(this,"touchmove",ht))),Jt.push(this),this.set(n)}function bt(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function wt(e,t){return-1!==bt(e,t)}function Et(e,t,n){return Xt?Xt(e,t,n):e[_n](t)}var zt,Xt,Yt=window.document,Dt=window.console,Tt=window.SVGElement||e,_t=window.SVGSVGElement||e,Mt=window.SVGElementInstance||e,Ot=window.HTMLElement||window.Element,At=window.PointerEvent||window.MSPointerEvent,kt=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},Ct={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},Rt={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},$t={pageX:0,pageY:0,clientX:0,clientY:0,timeStamp:0},Pt={pageX:0,pageY:0,clientX:0,clientY:0,pageSpeed:0,clientSpeed:0,timeStamp:0},Nt=[],Ft=[],qt=0,It=null,Vt=null,Bt=0,Lt=null,Ut={left:0,right:0,top:0,bottom:0},Kt={left:0,right:0,top:0,bottom:0},jt={x:0,y:0},Gt={},Wt={active:!1,smoothEnd:!1,target:null,targetElement:null,startEvent:null,pointerUp:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},Ht={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},Jt=[],Qt={dropzones:[],elements:[],rects:[]},Zt=[],en={},tn=null,nn=null,rn=null,on=null,sn=null,an={draggable:!1,dragAxis:"xy",dropzone:!1,accept:null,dropOverlap:"pointer",resizable:!1,squareResize:!1,resizeAxis:"xy",gesturable:!1,pointerMoveTolerance:1,actionChecker:null,styleCursor:!0,preventDefault:"auto",snap:{mode:"grid",endOnly:!1,actions:["drag"],range:1/0,grid:{x:100,y:100},gridOffset:{x:0,y:0},anchors:[],paths:[],elementOrigin:null,arrayTypes:/^anchors$|^paths$|^actions$/,objectTypes:/^grid$|^gridOffset$|^elementOrigin$/,stringTypes:/^mode$/,numberTypes:/^range$/,boolTypes:/^endOnly$/},snapEnabled:!1,restrict:{drag:null,resize:null,gesture:null,endOnly:!1},restrictEnabled:!1,autoScroll:{container:window,margin:60,speed:300,numberTypes:/^margin$|^speed$/},autoScrollEnabled:!1,inertia:{resistance:10,minSpeed:100,endSpeed:10,zeroResumeDelta:!1,smoothEndDuration:300,actions:["drag","resize"],numberTypes:/^resistance$|^minSpeed$|^endSpeed$|^smoothEndDuration$/,arrayTypes:/^actions$/,boolTypes:/^zeroResumeDelta$/},inertiaEnabled:!1,origin:{x:0,y:0},deltaSource:"page",context:Yt},ln={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,anchors:[],paths:[],locked:!1,changed:!1},cn={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:ln,restricted:!1,changed:!1},dn={target:null,i:null,x:0,y:0,scroll:function(){var e=dn.target.options.autoScroll,t=e.container,n=(new Date).getTime(),i=(n-dn.prevTime)/1e3,r=e.speed*i;r>=1&&(t instanceof window.Window?t.scrollBy(dn.x*r,dn.y*r):t&&(t.scrollLeft+=dn.x*r,t.scrollTop+=dn.y*r),dn.prevTime=n),dn.isScrolling&&(On(dn.i),dn.i=Mn(dn.scroll))},edgeMove:function(e){if(tn&&tn.options.autoScrollEnabled&&(mn||yn)){var t,n,i,r,o=tn.options.autoScroll;if(o.container instanceof window.Window)r=e.clientX<dn.margin,t=e.clientY<dn.margin,n=e.clientX>o.container.innerWidth-dn.margin,i=e.clientY>o.container.innerHeight-dn.margin;else{var s=m(o.container);r=e.clientX<s.left+dn.margin,t=e.clientY<s.top+dn.margin,n=e.clientX>s.right-dn.margin,i=e.clientY>s.bottom-dn.margin}dn.x=n?1:r?-1:0,dn.y=i?1:t?-1:0,dn.isScrolling||(dn.margin=o.margin,dn.speed=o.speed,dn.start(tn))}},isScrolling:!1,prevTime:0,start:function(e){dn.isScrolling=!0,On(dn.i),dn.target=e,dn.prevTime=(new Date).getTime(),dn.i=Mn(dn.scroll)},stop:function(){dn.isScrolling=!1,On(dn.i)}},pn="ontouchstart"in window||window.DocumentTouch&&Yt instanceof window.DocumentTouch,un=pn?20:10,hn=!1,gn=!1,fn=!1,mn=!1,vn=!1,yn=!1,xn="xy",Sn={drag:{cursor:"move",start:rt,move:ot},resizex:{cursor:"e-resize",start:st,move:at},resizey:{cursor:"s-resize",start:st,move:at},resizexy:{cursor:"se-resize",start:st,move:at},gesture:{cursor:"",start:lt,move:ct}},bn={drag:!0,resize:!0,gesture:!0},wn=null,En="onmousewheel"in Yt?"mousewheel":"wheel",zn=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","tap","doubletap"],Xn={},Yn={directBind:0,onevent:1,globalBind:2},Dn=!1,Tn="Opera"==navigator.appName&&pn&&navigator.userAgent.match("Presto"),_n="matchesSelector"in Element.prototype?"matchesSelector":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",Mn=window.requestAnimationFrame,On=window.cancelAnimationFrame,An={_element:window,events:{}},kn={_element:Yt,events:{}},Cn={_element:window.parent,events:{}},Rn={_element:null,events:{}},$n=function(){function e(e,t,a,u){var h=bt(c,e),g=d[h];if(g||(g={events:{},typeCount:0},h=c.push(e)-1,d.push(g),p.push(o?{supplied:[],wrapped:[],useCount:[]}:null)),g.events[t]||(g.events[t]=[],g.typeCount++),!wt(g.events[t],a)){var f;if(o){var m=p[h],v=bt(m.supplied,a),y=m.wrapped[v]||function(t){t.immediatePropagationStopped||(t.target=t.srcElement,t.currentTarget=e,t.preventDefault=t.preventDefault||n,t.stopPropagation=t.stopPropagation||i,t.stopImmediatePropagation=t.stopImmediatePropagation||r,/mouse|click/.test(t.type)&&(t.pageX=t.clientX+Yt.documentElement.scrollLeft,t.pageY=t.clientY+Yt.documentElement.scrollTop),a(t))};f=e[s](l+t,y,Boolean(u)),-1===v?(m.supplied.push(a),m.wrapped.push(y),m.useCount.push(1)):m.useCount[v]++}else f=e[s](t,a,u||!1);return g.events[t].push(a),f}}function t(e,n,i,r){var s,u,h,g=bt(c,e),f=d[g],m=i;if(f&&f.events)if(o&&(u=p[g],h=bt(u.supplied,i),m=u.wrapped[h]),"all"!==n){if(f.events[n]){var v=f.events[n].length;if("all"===i)for(s=0;v>s;s++)t(e,n,f.events[n][s],Boolean(r));else for(s=0;v>s;s++)if(f.events[n][s]===i){e[a](l+n,m,r||!1),f.events[n].splice(s,1),o&&u&&(u.useCount[h]--,0===u.useCount[h]&&(u.supplied.splice(h,1),u.wrapped.splice(h,1),u.useCount.splice(h,1)));break}f.events[n]&&0===f.events[n].length&&(f.events[n]=null,f.typeCount--)}f.typeCount||(d.splice(g),c.splice(g),p.splice(g))}else for(n in f.events)f.events.hasOwnProperty(n)&&t(e,n,"all")}function n(){this.returnValue=!1}function i(){this.cancelBubble=!0}function r(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var o="attachEvent"in window&&!("addEventListener"in window),s=o?"attachEvent":"addEventListener",a=o?"detachEvent":"removeEventListener",l=o?"on":"",c=[],d=[],p=[];return{add:function(t,n,i,r){e(t._element,n,i,r)},remove:function(e,n,i,r){t(e._element,n,i,r)},addToElement:e,removeFromElement:t,useAttachEvent:o,_elements:c,_targets:d,_attachedListeners:p}}();B.prototype={preventDefault:e,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}},Jt.indexOfElement=function(e,t){for(var n=0;n<this.length;n++){var i=this[n];if(i.selector===e&&i._context===(t||Yt)||!i.selector&&i._element===e)return n}return-1},Jt.get=function(e,t){return this[this.indexOfElement(e,t&&t.context)]},Jt.forEachSelector=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(n.selector){var i=e(n,n.selector,n._context,t,this);if(void 0!==i)return i}}},xt.prototype=an,St.prototype={setOnEvents:function(e,t){if("drop"===e){var n=t.ondrop||t.onDrop||t.drop,i=t.ondropactivate||t.onDropActivate||t.dropactivate||t.onactivate||t.onActivate||t.activate,o=t.ondropdeactivate||t.onDropDeactivate||t.dropdeactivate||t.ondeactivate||t.onDeactivate||t.deactivate,s=t.ondragenter||t.onDropEnter||t.dragenter||t.onenter||t.onEnter||t.enter,a=t.ondragleave||t.onDropLeave||t.dragleave||t.onleave||t.onLeave||t.leave,l=t.ondropmove||t.onDropMove||t.dropmove||t.onmove||t.onMove||t.move;r(n)&&(this.ondrop=n),r(i)&&(this.ondropactivate=i),r(o)&&(this.ondropdeactivate=o),r(s)&&(this.ondragenter=s),r(a)&&(this.ondragleave=a),r(l)&&(this.ondropmove=l)
}else{var c=t.onstart||t.onStart||t.start,d=t.onmove||t.onMove||t.move,p=t.onend||t.onEnd||t.end,u=t.oninertiastart||t.onInertiaStart||t.inertiastart;e="on"+e,r(c)&&(this[e+"start"]=c),r(d)&&(this[e+"move"]=d),r(p)&&(this[e+"end"]=p),r(u)&&(this[e+"inertiastart"]=u)}return this},draggable:function(e){return n(e)?(this.options.draggable=!0,this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.dragAxis=e.axis:null===e.axis&&delete this.options.dragAxis,this):s(e)?(this.options.draggable=e,this):null===e?(delete this.options.draggable,this):this.options.draggable},dropzone:function(e){return n(e)?(this.options.dropzone=!0,this.setOnEvents("drop",e),this.accept(e.accept),/^(pointer|center)$/.test(e.overlap)?this.options.dropOverlap=e.overlap:o(e.overlap)&&(this.options.dropOverlap=Math.max(Math.min(1,e.overlap),0)),this):s(e)?(this.options.dropzone=e,this):null===e?(delete this.options.dropzone,this):this.options.dropzone},dropCheck:function(e,t,n,i){if(!(i=i||this.getRect(this._element)))return!1;var r=this.options.dropOverlap;if("pointer"===r){var s,a,l=h(e),c=w(t,n);return l.x+=c.x,l.y+=c.y,s=l.x>i.left&&l.x<i.right,a=l.y>i.top&&l.y<i.bottom,s&&a}var d=t.getRect(n);if("center"===r){var p=d.left+d.width/2,u=d.top+d.height/2;return p>=i.left&&p<=i.right&&u>=i.top&&u<=i.bottom}if(o(r)){var g=Math.max(0,Math.min(i.right,d.right)-Math.max(i.left,d.left))*Math.max(0,Math.min(i.bottom,d.bottom)-Math.max(i.top,d.top)),f=g/(d.width*d.height);return f>=r}},dropChecker:function(e){return r(e)?(this.dropCheck=e,this):this.dropCheck},accept:function(e){return t(e)?(this.options.accept=e,this):a(e)?(Yt.querySelector(e),this.options.accept=e,this):null===e?(delete this.options.accept,this):this.options.accept},resizable:function(e){return n(e)?(this.options.resizable=!0,this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resizeAxis=e.axis:null===e.axis&&(this.options.resizeAxis=an.resizeAxis),this):s(e)?(this.options.resizable=e,this):this.options.resizable},resizeable:e,squareResize:function(e){return s(e)?(this.options.squareResize=e,this):null===e?(delete this.options.squareResize,this):this.options.squareResize},gesturable:function(e){return n(e)?(this.options.gesturable=!0,this.setOnEvents("gesture",e),this):s(e)?(this.options.gesturable=e,this):null===e?(delete this.options.gesturable,this):this.options.gesturable},gestureable:e,autoScroll:function(e){var i=an.autoScroll;if(n(e)){var r=this.options.autoScroll;return r===i&&(r=this.options.autoScroll={margin:i.margin,distance:i.distance,interval:i.interval,container:i.container}),r.margin=this.validateSetting("autoScroll","margin",e.margin),r.speed=this.validateSetting("autoScroll","speed",e.speed),r.container=t(e.container)||e.container instanceof window.Window?e.container:i.container,this.options.autoScrollEnabled=!0,this.options.autoScroll=r,this}return s(e)?(this.options.autoScrollEnabled=e,this):null===e?(delete this.options.autoScrollEnabled,delete this.options.autoScroll,this):this.options.autoScrollEnabled?this.options.autoScroll:!1},snap:function(e){var t=an.snap;if(n(e)){var i=this.options.snap;return i===t&&(i={}),i.mode=this.validateSetting("snap","mode",e.mode),i.endOnly=this.validateSetting("snap","endOnly",e.endOnly),i.actions=this.validateSetting("snap","actions",e.actions),i.range=this.validateSetting("snap","range",e.range),i.paths=this.validateSetting("snap","paths",e.paths),i.grid=this.validateSetting("snap","grid",e.grid),i.gridOffset=this.validateSetting("snap","gridOffset",e.gridOffset),i.anchors=this.validateSetting("snap","anchors",e.anchors),i.elementOrigin=this.validateSetting("snap","elementOrigin",e.elementOrigin),this.options.snapEnabled=!0,this.options.snap=i,this}return s(e)?(this.options.snapEnabled=e,this):null===e?(delete this.options.snapEnabled,delete this.options.snap,this):this.options.snapEnabled?this.options.snap:!1},inertia:function(e){var t=an.inertia;if(n(e)){var i=this.options.inertia;return i===t&&(i=this.options.inertia={resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed,actions:t.actions,zeroResumeDelta:t.zeroResumeDelta,smoothEndDuration:t.smoothEndDuration}),i.resistance=this.validateSetting("inertia","resistance",e.resistance),i.minSpeed=this.validateSetting("inertia","minSpeed",e.minSpeed),i.endSpeed=this.validateSetting("inertia","endSpeed",e.endSpeed),i.actions=this.validateSetting("inertia","actions",e.actions),i.zeroResumeDelta=this.validateSetting("inertia","zeroResumeDelta",e.zeroResumeDelta),i.smoothEndDuration=this.validateSetting("inertia","smoothEndDuration",e.smoothEndDuration),this.options.inertiaEnabled=!0,this.options.inertia=i,this}return s(e)?(this.options.inertiaEnabled=e,this):null===e?(delete this.options.inertiaEnabled,delete this.options.inertia,this):this.options.inertiaEnabled?this.options.inertia:!1},getAction:function(e,t){var n=this.defaultActionChecker(e,t);return this.options.actionChecker&&(n=this.options.actionChecker(e,n,this)),n},defaultActionChecker:j,actionChecker:function(e){return r(e)?(this.options.actionChecker=e,this):null===e?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(e){return e=e||this._element,this.selector&&!t(e)&&(e=this._context.querySelector(this.selector)),m(e)},rectChecker:function(e){return r(e)?(this.getRect=e,this):null===e?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return s(e)?(this.options.styleCursor=e,this):null===e?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return s(e)||"auto"===e?(this.options.preventDefault=e,this):null===e?(delete this.options.preventDefault,this):this.options.preventDefault},origin:function(e){return n(e)||/^parent$|^self$/.test(e)?(this.options.origin=e,this):null===e?(delete this.options.origin,this):this.options.origin},deltaSource:function(e){return"page"===e||"client"===e?(this.options.deltaSource=e,this):null===e?(delete this.options.deltaSource,this):this.options.deltaSource},restrict:function(e){if(void 0===e)return this.options.restrict;if(s(e))an.restrictEnabled=e;else if(n(e)){var t={};(n(e.drag)||/^parent$|^self$/.test(e.drag))&&(t.drag=e.drag),(n(e.resize)||/^parent$|^self$/.test(e.resize))&&(t.resize=e.resize),(n(e.gesture)||/^parent$|^self$/.test(e.gesture))&&(t.gesture=e.gesture),s(e.endOnly)&&(t.endOnly=e.endOnly),n(e.elementRect)&&(t.elementRect=e.elementRect),this.options.restrictEnabled=!0,this.options.restrict=t}else null===e&&(delete this.options.restrict,delete this.options.restrictEnabled);return this},context:function(){return this._context},_context:Yt,ignoreFrom:function(e){return a(e)?(Yt.querySelector(e),this.options.ignoreFrom=e,this):t(e)?(this.options.ignoreFrom=e,this):null===e?(delete this.options.ignoreFrom,this):this.options.ignoreFrom},allowFrom:function(e){return a(e)?(Yt.querySelector(e),this.options.allowFrom=e,this):t(e)?(this.options.allowFrom=e,this):null===e?(delete this.options.allowFrom,this):this.options.allowFrom},validateSetting:function(e,r,l){var c=an[e],d=this.options[e];if(void 0!==c&&void 0!==c[r]){if("objectTypes"in c&&c.objectTypes.test(r))return n(l)?l:r in d&&n(d[r])?d[r]:c[r];if("arrayTypes"in c&&c.arrayTypes.test(r))return i(l)?l:r in d&&i(d[r])?d[r]:c[r];if("stringTypes"in c&&c.stringTypes.test(r))return a(l)?l:r in d&&a(d[r])?d[r]:c[r];if("numberTypes"in c&&c.numberTypes.test(r))return o(l)?l:r in d&&o(d[r])?d[r]:c[r];if("boolTypes"in c&&c.boolTypes.test(r))return s(l)?l:r in d&&s(d[r])?d[r]:c[r];if("elementTypes"in c&&c.elementTypes.test(r))return t(l)?l:r in d&&t(d[r])?d[r]:c[r]}return null},element:function(){return this._element},fire:function(e){function t(){switch(o){case Yn.directBind:if(e.type in l._iEvents){for(n=l._iEvents[e.type],i=n.length;i>s&&!e.immediatePropagationStopped;s++)c=n[s].name,n[s](e);break}break;case Yn.onevent:r(l[a])&&(c=l[a].name,l[a](e));break;case Yn.globalBind:if(e.type in Xn&&(n=Xn[e.type]))for(i=n.length;i>s&&!e.immediatePropagationStopped;s++)c=n[s].name,n[s](e)}s=0,o++}if(!e||!e.type||!wt(zn,e.type))return this;var n,i,o=0,s=0,a="on"+e.type,l=this,c="";if(Dn)for(;3>o&&!e.propagationStopped;)try{t()}catch(d){c=c?', "'+c+'"':"",Dt.error('Error thrown from "'+e.type+'" listener'+c+":\n"+d.message),Dt.log(d.stack),Dt.log(d),s++,o===Yn.onevent&&o++}else for(;3>o&&!e.propagationStopped;)t();return this},on:function(e,t,n){if("wheel"===e&&(e=En),n=n?!0:!1,wt(zn,e))e in this._iEvents?wt(this._iEvents[e],t)||this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){en[e]||(en[e]={selectors:[],contexts:[],listeners:[]},$n.addToElement(this._context,e,ft),$n.addToElement(this._context,e,mt,!0));var i,r=en[e];for(i=r.selectors.length-1;i>=0&&(r.selectors[i]!==this.selector||r.contexts[i]!==this._context);i--);-1===i&&(i=r.selectors.length,r.selectors.push(this.selector),r.contexts.push(this._context),r.listeners.push([])),r.listeners[i].push([t,n])}else $n.add(this,e,t,n);return this},off:function(e,t,n){var i,r=-1;if(n=n?!0:!1,"wheel"===e&&(e=En),wt(zn,e))i=this._iEvents[e],i&&-1!==(r=bt(i,t))&&this._iEvents[e].splice(r,1);else if(this.selector){var o=en[e],s=!1;if(!o)return this;for(r=o.selectors.length-1;r>=0;r--)if(o.selectors[r]===this.selector&&o.contexts[r]===this._context){for(var a=o.listeners[r],l=a.length-1;l>=0;l--){var c=a[l][0],d=a[l][1];if(c===t&&d===n){a.splice(l,1),a.length||(o.selectors.splice(r,1),o.contexts.splice(r,1),o.listeners.splice(r,1),$n.removeFromElement(this._context,e,ft),$n.removeFromElement(this._context,e,mt,!0),o.selectors.length||(en[e]=null)),s=!0;break}}if(s)break}}else $n.remove(this,t,n);return this},set:function(e){e&&n(e)||(e={}),this.options=new xt(e),this.draggable("draggable"in e?e.draggable:this.options.draggable),this.dropzone("dropzone"in e?e.dropzone:this.options.dropzone),this.resizable("resizable"in e?e.resizable:this.options.resizable),this.gesturable("gesturable"in e?e.gesturable:this.options.gesturable);for(var t=["accept","actionChecker","allowFrom","autoScroll","deltaSource","dropChecker","ignoreFrom","inertia","origin","preventDefault","rectChecker","restrict","snap","styleCursor"],i=0,r=t.length;r>i;i++){var o=t[i];o in e&&this[o](e[o])}return this},unset:function(){if($n.remove(this,"all"),a(this.selector))for(var e in en)for(var t=en[e],n=0;n<t.selectors.length;n++){t.selectors[n]===this.selector&&t.contexts[n]===this._context&&(t.selectors.splice(n,1),t.contexts.splice(n,1),t.listeners.splice(n,1),t.selectors.length||(en[e]=null)),$n.removeFromElement(this._context,e,ft),$n.removeFromElement(this._context,e,mt,!0);break}else $n.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),Jt.splice(bt(Jt,this),1),yt}},St.prototype.gestureable=St.prototype.gesturable,St.prototype.resizeable=St.prototype.resizable,yt.isSet=function(e,t){return-1!==Jt.indexOfElement(e,t&&t.context)},yt.on=function(e,t,n){return wt(zn,e)?Xn[e]?wt(Xn[e],t)||Xn[e].push(t):Xn[e]=[t]:$n.add(kn,e,t,n),yt},yt.off=function(e,t,n){if(wt(zn,e)){var i;e in Xn&&-1!==(i=bt(Xn[e],t))&&Xn[e].splice(i,1)}else $n.remove(kn,e,t,n);return yt},yt.simulate=function(t,n,i){var r,o={};return"resize"===t&&(t="resizexy"),t in Sn?(i?l(o,i):(r=tn._element instanceof Tt?n.getBoundingClientRect():r=n.getClientRects()[0],"drag"===t?(o.pageX=r.left+r.width/2,o.pageY=r.top+r.height/2):(o.pageX=r.right,o.pageY=r.bottom)),o.target=o.currentTarget=n,o.preventDefault=o.stopPropagation=e,H(o,t),yt):yt},yt.enableDragging=function(e){return null!==e&&void 0!==e?(bn.drag=e,yt):bn.drag},yt.enableResizing=function(e){return null!==e&&void 0!==e?(bn.resize=e,yt):bn.resize},yt.enableGesturing=function(e){return null!==e&&void 0!==e?(bn.gesture=e,yt):bn.gesture},yt.eventTypes=zn,yt.debug=function(){return{target:tn,dragging:mn,resizing:yn,gesturing:fn,prepared:wn,matches:Zt,prevCoords:Ct,downCoords:$t,pointerIds:Nt,pointerMoves:Ft,addPointer:et,removePointer:tt,recordPointers:nt,recordTouches:it,snap:ln,restrict:cn,inertia:Wt,downTime:qt,downEvent:It,prevEvent:Vt,Interactable:St,IOptions:xt,interactables:Jt,pointerIsDown:hn,defaultOptions:an,defaultActionChecker:j,actions:Sn,dragMove:ot,resizeMove:at,gestureMove:ct,pointerUp:gt,pointerDown:H,pointerMove:Z,pointerHover:ht,events:$n,globalEvents:Xn,delegatedEvents:en}},yt.getTouchAverage=y,yt.getTouchBBox=x,yt.getTouchDistance=S,yt.getTouchAngle=b,yt.getElementRect=m,yt.margin=function(e){return o(e)?(un=e,yt):un},yt.styleCursor=function(e){return s(e)?(an.styleCursor=e,yt):an.styleCursor},yt.autoScroll=function(e){var i=an.autoScroll;return n(e)?(an.autoScrollEnabled=!0,o(e.margin)&&(i.margin=e.margin),o(e.speed)&&(i.speed=e.speed),i.container=t(e.container)||e.container instanceof window.Window?e.container:i.container,yt):s(e)?(an.autoScrollEnabled=e,yt):an.autoScrollEnabled?i:!1},yt.snap=function(e){var t=an.snap;return n(e)?(an.snapEnabled=!0,a(e.mode)&&(t.mode=e.mode),s(e.endOnly)&&(t.endOnly=e.endOnly),o(e.range)&&(t.range=e.range),i(e.actions)&&(t.actions=e.actions),i(e.anchors)&&(t.anchors=e.anchors),n(e.grid)&&(t.grid=e.grid),n(e.gridOffset)&&(t.gridOffset=e.gridOffset),n(e.elementOrigin)&&(t.elementOrigin=e.elementOrigin),yt):s(e)?(an.snapEnabled=e,yt):{enabled:an.snapEnabled,mode:t.mode,actions:t.actions,grid:t.grid,gridOffset:t.gridOffset,anchors:t.anchors,paths:t.paths,range:t.range,locked:ln.locked,x:ln.snappedX,y:ln.snappedY,realX:ln.realX,realY:ln.realY,dx:ln.dx,dy:ln.dy}},yt.inertia=function(e){var t=an.inertia;return n(e)?(an.inertiaEnabled=!0,o(e.resistance)&&(t.resistance=e.resistance),o(e.minSpeed)&&(t.minSpeed=e.minSpeed),o(e.endSpeed)&&(t.endSpeed=e.endSpeed),o(e.smoothEndDuration)&&(t.smoothEndDuration=e.smoothEndDuration),s(e.zeroResumeDelta)&&(t.zeroResumeDelta=e.zeroResumeDelta),i(e.actions)&&(t.actions=e.actions),yt):s(e)?(an.inertiaEnabled=e,yt):{enabled:an.inertiaEnabled,resistance:t.resistance,minSpeed:t.minSpeed,endSpeed:t.endSpeed,actions:t.actions,zeroResumeDelta:t.zeroResumeDelta}},yt.supportsTouch=function(){return pn},yt.currentAction=function(){return mn&&"drag"||yn&&"resize"||fn&&"gesture"||null},yt.stop=function(e){return(mn||yn||fn)&&(dn.stop(),Zt=[],tn.options.styleCursor&&(Yt.documentElement.style.cursor=""),e&&r(e.preventDefault)&&k(e,tn),mn&&(Qt.dropzones=Qt.elements=Qt.rects=null),vt()),Nt.splice(0),Ft.splice(0),hn=ln.locked=mn=yn=fn=!1,wn=Vt=null,Wt.resumeDx=Wt.resumeDy=0,yt},yt.dynamicDrop=function(e){return s(e)?(vn=e,yt):vn},yt.deltaSource=function(e){return"page"===e||"client"===e?(an.deltaSource=e,this):an.deltaSource},yt.restrict=function(e){var t=an.restrict;return void 0===e?an.restrict:(s(e)?an.restrictEnabled=e:n(e)?((n(e.drag)||/^parent$|^self$/.test(e.drag))&&(t.drag=e.drag),(n(e.resize)||/^parent$|^self$/.test(e.resize))&&(t.resize=e.resize),(n(e.gesture)||/^parent$|^self$/.test(e.gesture))&&(t.gesture=e.gesture),s(e.endOnly)&&(t.endOnly=e.endOnly),n(e.elementRect)&&(t.elementRect=e.elementRect),an.restrictEnabled=!0):null===e&&(t.drag=t.resize=t.gesture=null,t.endOnly=!1),this)},yt.pointerMoveTolerance=function(e){return o(e)?(an.pointerMoveTolerance=e,this):an.pointerMoveTolerance},yt.tryCatchEventListeners=function(e){return s(e)?(Dn=e,this):Dn},At?(zt=At===window.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"MSPointerOver",out:"MSPointerOut",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},$n.add(kn,zt.up,K),$n.add(kn,zt.down,W),$n.add(kn,zt.move,Z),$n.add(kn,zt.up,gt),$n.add(kn,zt.over,pt),$n.add(kn,zt.out,ut),$n.add(kn,zt.move,nt),$n.add(kn,zt.up,nt),$n.add(kn,zt.cancel,nt),$n.add(kn,zt.up,function(){mn||yn||fn||(hn=!1)})):($n.add(kn,"mouseup",K),$n.add(kn,"touchend",K),$n.add(kn,"mousedown",W),$n.add(kn,"mousemove",Z),$n.add(kn,"mouseup",gt),$n.add(kn,"mouseover",pt),$n.add(kn,"mouseout",ut),$n.add(kn,"touchmove",it),$n.add(kn,"touchend",it),$n.add(kn,"touchcancel",it),$n.add(kn,"touchstart",W),$n.add(kn,"touchmove",Z),$n.add(kn,"touchend",gt),$n.add(kn,"touchcancel",gt)),$n.add(An,"blur",gt);try{window.frameElement&&(Rn._element=window.frameElement.ownerDocument,$n.add(Rn,"mouseup",gt),$n.add(Rn,"touchend",gt),$n.add(Rn,"touchcancel",gt),$n.add(Rn,"pointerup",gt),$n.add(Rn,"MSPointerUp",gt),$n.add(Cn,"blur",gt))}catch(Pn){yt.windowParentError=Pn}$n.add(kn,"selectstart",function(e){(mn||yn||fn)&&k(e,tn)}),_n in Element.prototype&&r(Element.prototype[_n])||(Xt=function(e,t,n){n=n||e.parentNode.querySelectorAll(t);for(var i=0,r=n.length;r>i;i++)if(n[i]===e)return!0;return!1}),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)Mn=window[t[n]+"RequestAnimationFrame"],On=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];Mn||(Mn=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),On||(On=function(e){clearTimeout(e)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=yt),exports.interact=yt):"function"==typeof define&&define.amd?define("interact",function(){return yt}):window.interact=yt}();
